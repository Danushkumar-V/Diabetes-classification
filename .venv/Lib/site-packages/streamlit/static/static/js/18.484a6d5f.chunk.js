/*! For license information please see 18.484a6d5f.chunk.js.LICENSE.txt */
(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[18],{2850:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{setStatus(e){return new r(this.name,this.size,this.id,e)}constructor(e,t,n,r){this.name=void 0,this.size=void 0,this.status=void 0,this.id=void 0,this.name=e,this.size=t,this.id=n,this.status=r}}},5121:function(e,t,n){!function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t),o=r(n);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var v=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function b(e,t){var n,r=function(e){var t,n,r=e.name;return r&&-1!==r.lastIndexOf(".")&&!e.type&&(t=r.split(".").pop().toLowerCase(),(n=v.get(t))&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})),e}(e);return"string"!=typeof r.path&&(n=e.webkitRelativePath,Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&0<n.length?n:e.name,writable:!1,configurable:!1,enumerable:!0})),r}var y=[".DS_Store","Thumbs.db"];function x(e){return e.filter((function(e){return-1===y.indexOf(e.name)}))}function j(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function F(e){if("function"!=typeof e.webkitGetAsEntry)return O(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?D(t):O(e)}function O(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=b(t);return Promise.resolve(n)}function w(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,(e.isDirectory?D:function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=b(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))})(e)]}))}))}function D(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return g(o,void 0,void 0,(function(){var o,a,s;return m(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=l.sent(),e(o),[3,4];case 3:return a=l.sent(),n(a),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(w)),r.push(s),i(),l.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}var S,I,z=(function(e){e.__esModule=!0,e.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}}((S={exports:{}}).exports),S.exports),C=(I=z)&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I,k=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},E=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},A=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},P={code:"too-many-files",message:"Too many files"};function M(e,t){var n="application/x-moz-file"===e.type||C(e,t);return[n,n?null:k(t)]}function B(e,t,n){if(L(e.size))if(L(t)&&L(n)){if(e.size>n)return[!1,E(n)];if(e.size<t)return[!1,A(t)]}else{if(L(t)&&e.size<t)return[!1,A(t)];if(L(n)&&e.size>n)return[!1,E(n)]}return[!0,null]}function L(e){return null!=e}function R(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function T(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):e.target&&e.target.files}function U(e){e.preventDefault()}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!R(e)&&t&&t.apply(void 0,[e].concat(r)),R(e)}))}}var K=t.forwardRef((function(e,n){var r=e.children,o=X(c(e,["children"])),a=o.open,s=c(o,["open"]);return t.useImperativeHandle(n,(function(){return{open:a}}),[a]),i.default.createElement(t.Fragment,null,r(l(l({},s),{},{open:a})))})),H={disabled:!(K.displayName="Dropzone"),getFilesFromEvent:function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,e.dataTransfer&&e.dataTransfer?function(e,t){return g(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return e.items?(n=j(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(F))]):[3,2];case 1:return[2,x(function e(t){return t.reduce((function(t,n){return h(t,Array.isArray(n)?e(n):[n])}),[])}(r.sent()))];case 2:return[2,x(j(e.files).map((function(e){return b(e)})))]}}))}))}(e.dataTransfer,e.type):(null!==(n=e).target&&n.target.files?j(n.target.files):[]).map((function(e){return b(e)}))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};K.defaultProps=H;var V={isFocused:!(K.propTypes={children:o.default.func,accept:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),multiple:o.default.bool,preventDropOnDocument:o.default.bool,noClick:o.default.bool,noKeyboard:o.default.bool,noDrag:o.default.bool,noDragEventsBubbling:o.default.bool,minSize:o.default.number,maxSize:o.default.number,maxFiles:o.default.number,disabled:o.default.bool,getFilesFromEvent:o.default.func,onFileDialogCancel:o.default.func,onDragEnter:o.default.func,onDragLeave:o.default.func,onDragOver:o.default.func,onDrop:o.default.func,onDropAccepted:o.default.func,onDropRejected:o.default.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function X(){function e(){K&&setTimeout((function(){C.current&&(C.current.files.length||(A({type:"closeDialog"}),"function"==typeof F&&F()))}),300)}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=l(l({},H),n),i=r.accept,o=r.disabled,s=r.getFilesFromEvent,f=r.maxSize,p=r.minSize,g=r.multiple,m=r.maxFiles,h=r.onDragEnter,v=r.onDragLeave,b=r.onDragOver,y=r.onDrop,x=r.onDropAccepted,j=r.onDropRejected,F=r.onFileDialogCancel,O=r.preventDropOnDocument,w=r.noClick,D=r.noKeyboard,S=r.noDrag,I=r.noDragEventsBubbling,z=t.useRef(null),C=t.useRef(null),k=u(t.useReducer(_,V),2),E=k[0],A=k[1],L=E.isFocused,K=E.isFileDialogActive,X=E.draggedFiles,q=t.useCallback((function(){C.current&&(A({type:"openDialog"}),C.current.value=null,C.current.click())}),[A]);function W(e){z.current&&z.current.contains(e.target)||(e.preventDefault(),Q.current=[])}t.useEffect((function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}}),[C,K,F]);var G=t.useCallback((function(e){z.current&&z.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),q()))}),[z,C]),$=t.useCallback((function(){A({type:"focus"})}),[]),J=t.useCallback((function(){A({type:"blur"})}),[]),Y=t.useCallback((function(){w||(function(e){var t,n=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;return-1!==(t=n).indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==n.indexOf("Edge/")}()?setTimeout(q,0):q())}),[C,w]),Q=t.useRef([]);function Z(e){return o?null:e}function ee(e){return D?null:Z(e)}function te(e){return S?null:Z(e)}t.useEffect((function(){return O&&(document.addEventListener("dragover",U,!1),document.addEventListener("drop",W,!1)),function(){O&&(document.removeEventListener("dragover",U),document.removeEventListener("drop",W))}}),[z,O]);var ne,re,ie,oe,ae,se,le,ce=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e),Q.current=[].concat(d(Q.current),[e.target]),T(e)&&Promise.resolve(s(e)).then((function(t){R(e)&&!I||(A({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),h&&h(e))}))}),[s,h,I]),ue=t.useCallback((function(e){if(e.preventDefault(),e.persist(),pe(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return T(e)&&b&&b(e),!1}),[b,I]),de=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e);var t=Q.current.filter((function(e){return z.current&&z.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),0<(Q.current=t).length||(A({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),T(e)&&v&&v(e))}),[z,v,I]),fe=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e),Q.current=[],T(e)&&Promise.resolve(s(e)).then((function(t){var n,r;R(e)&&!I||(n=[],r=[],t.forEach((function(e){var t,o=u(M(e,i),2),a=o[0],s=o[1],l=u(B(e,p,f),2),c=l[0],d=l[1];a&&c?n.push(e):(t=[s,d].filter((function(e){return e})),r.push({file:e,errors:t}))})),(!g&&1<n.length||g&&1<=m&&n.length>m)&&(n.forEach((function(e){r.push({file:e,errors:[P]})})),n.splice(0)),A({acceptedFiles:n,fileRejections:r,type:"setFiles"}),y&&y(n,r,e),0<r.length&&j&&j(r,e),0<n.length&&x&&x(n,e))})),A({type:"reset"})}),[g,i,p,f,m,s,y,x,j,I]),pe=function(e){I&&e.stopPropagation()},ge=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,i=e.onFocus,s=e.onBlur,u=e.onClick,d=e.onDragEnter,f=e.onDragOver,p=e.onDragLeave,g=e.onDrop,m=c(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return l(l(a({onKeyDown:ee(N(r,G)),onFocus:ee(N(i,$)),onBlur:ee(N(s,J)),onClick:Z(N(u,Y)),onDragEnter:te(N(d,ce)),onDragOver:te(N(f,ue)),onDragLeave:te(N(p,de)),onDrop:te(N(g,fe))},n,z),o||D?{}:{tabIndex:0}),m)}}),[z,G,$,J,Y,ce,ue,de,fe,D,S,o]),me=t.useCallback((function(e){e.stopPropagation()}),[]),he=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,o=e.onClick,s=c(e,["refKey","onChange","onClick"]);return l(l({},a({accept:i,multiple:g,type:"file",style:{display:"none"},onChange:Z(N(r,fe)),onClick:Z(N(o,me)),autoComplete:"off",tabIndex:-1},n,C)),s)}}),[C,i,g,fe,o]),ve=X.length,be=0<ve&&(re=(ne={files:X,accept:i,minSize:p,maxSize:f,multiple:g,maxFiles:m}).files,ie=ne.accept,oe=ne.minSize,ae=ne.maxSize,se=ne.multiple,le=ne.maxFiles,!(!se&&1<re.length||se&&1<=le&&re.length>le)&&re.every((function(e){var t=u(M(e,ie),1)[0],n=u(B(e,oe,ae),1)[0];return t&&n}))),ye=0<ve&&!be;return l(l({},E),{},{isDragAccept:be,isDragReject:ye,isFocused:L&&!o,getRootProps:ge,getInputProps:he,rootRef:z,inputRef:C,open:Z(q)})}function _(e,t){switch(t.type){case"focus":return l(l({},e),{},{isFocused:!0});case"blur":return l(l({},e),{},{isFocused:!1});case"openDialog":return l(l({},e),{},{isFileDialogActive:!0});case"closeDialog":return l(l({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return l(l({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return l(l({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return l(l({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=K,e.useDropzone=X,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(15))},5134:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return se}));var r=n(165),i=n.n(r),o=n(27),a=n.n(o),s=n(0),l=n.n(s),c=n(13),u=n(162),d=n(29);let f;!function(e){e.Gigabyte="gb",e.Megabyte="mb",e.Kilobyte="kb",e.Byte="b"}(f||(f={}));const p=Object(d.g)()?1024:1e3,g=[f.Gigabyte,f.Megabyte,f.Kilobyte,f.Byte],m=(e,t,n=1)=>{if(t||(t=f.Byte),n<0&&(n=0),e<0)throw new Error("Size must be greater than or equal to 0");const r=g.indexOf(t);return r&&e>p/2?m(e/p,g[r-1],n):"".concat(e.toFixed(n)).concat(t.toUpperCase())};var h=n(115),v=n(116),b=n(51),y=n(5121),x=n.n(y),j=n(17),F=n(7),O=n.n(F);const w=O()("section",{target:"exg6vvm0"})((({isDisabled:e,theme:t})=>({display:"flex",alignItems:"center",padding:t.spacing.lg,backgroundColor:t.colors.secondaryBg,borderRadius:t.radii.md,":focus":{outline:"none",boxShadow:"0 0 0 1px ".concat(t.colors.primary)},color:e?t.colors.gray:t.colors.bodyText})),""),D=O()("div",{target:"exg6vvm1"})((({theme:e})=>({marginRight:"auto",alignItems:"center",display:"flex"})),""),S=O()("span",{target:"exg6vvm2"})((({theme:e})=>({color:e.colors.darkenedBgMix60,marginRight:e.spacing.lg})),""),I=O()("span",{target:"exg6vvm3"})((({theme:e})=>({marginBottom:e.spacing.twoXS})),""),z=O()("div",{target:"exg6vvm4"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),C=O()("div",{target:"exg6vvm5"})((({theme:e})=>({left:0,right:0,lineHeight:e.lineHeights.tight,paddingTop:e.spacing.md,paddingLeft:e.spacing.lg,paddingRight:e.spacing.lg})),""),k=O()("ul",{target:"exg6vvm6"})((({theme:e})=>({listStyleType:"none",marginBottom:0})),""),E=O()("li",{target:"exg6vvm7"})((({theme:e})=>({margin:e.spacing.none,padding:e.spacing.none})),""),A=O()("div",{target:"exg6vvm8"})((({theme:e})=>({display:"flex",alignItems:"baseline",flex:1,paddingLeft:e.spacing.lg,overflow:"hidden"})),""),P=O()("div",{target:"exg6vvm9"})((({theme:e})=>({marginRight:e.spacing.sm,marginBottom:e.spacing.twoXS,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),""),M=O()("div",{target:"exg6vvm10"})((({theme:e})=>({display:"flex",alignItems:"center",marginBottom:e.spacing.twoXS})),""),B=O()("span",{target:"exg6vvm11"})((({theme:e})=>({marginRight:e.spacing.twoXS})),""),L=O()("div",{target:"exg6vvm12"})((({theme:e})=>({display:"flex",padding:e.spacing.twoXS,color:e.colors.darkenedBgMix60})),""),R=O()("small",{target:"exg6vvm13"})((({theme:e})=>({color:e.colors.danger,fontSize:e.fontSizes.sm,height:e.fontSizes.sm,lineHeight:e.fontSizes.sm,display:"flex",alignItems:"center",whiteSpace:"nowrap"})),""),T=O()("span",{target:"exg6vvm14"})({name:"0",styles:""}),U=e=>({[w]:{display:"flex",flexDirection:"column",alignItems:"flex-start"},[D]:{marginBottom:e.spacing.lg},[S]:{display:"none"},[C]:{paddingRight:e.spacing.lg},[M]:{maxWidth:"inherit",flex:1,alignItems:"flex-start",marginBottom:e.spacing.sm},[P]:{width:e.sizes.full},[A]:{flexDirection:"column"},[R]:{height:"auto",whiteSpace:"initial"},[T]:{display:"none"},[E]:{margin:e.spacing.none,padding:e.spacing.none}}),N=O()("div",{target:"exg6vvm15"})((({theme:e})=>e.inSidebar?U(e):{["@media (max-width: ".concat(e.breakpoints.sm,")")]:U(e)}),"");var K=n(152),H=n(52),V=n(280),X=n(5);var _=({multiple:e,acceptedExtensions:t,maxSizeBytes:n})=>Object(X.jsxs)(D,{children:[Object(X.jsx)(S,{children:Object(X.jsx)(H.a,{content:K.CloudUpload,size:"threeXL"})}),Object(X.jsxs)(z,{children:[Object(X.jsxs)(I,{children:["Drag and drop file",e?"s":""," here"]}),Object(X.jsxs)(V.a,{children:["Limit ".concat(m(n,f.Byte,0)," per file"),t.length?" \u2022 ".concat(t.join(", ").replace(/\./g,"").toUpperCase()):null]})]})]});var q=({onDrop:e,multiple:t,acceptedExtensions:n,maxSizeBytes:r,disabled:i})=>Object(X.jsx)(x.a,{onDrop:e,multiple:t,accept:n.length?n:void 0,maxSize:r,disabled:i,children:({getRootProps:e,getInputProps:o})=>Object(X.jsxs)(w,{...e(),"data-testid":"stFileUploadDropzone",isDisabled:i,children:[Object(X.jsx)("input",{...o()}),Object(X.jsx)(_,{multiple:t,acceptedExtensions:n,maxSizeBytes:r}),Object(X.jsx)(j.d,{kind:j.b.PRIMARY,disabled:i,size:j.c.SMALL,children:"Browse files"})]})}),W=n(97),G=n.n(W);const $=O()("div",{target:"e1f8s2qs0"})((({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:e.spacing.twoXS,marginBottom:e.spacing.twoXS})),""),J=O()("div",{target:"e1f8s2qs1"})((({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.fadedText40})),"");var Y=({className:e,currentPage:t,totalPages:n,onNext:r,onPrevious:i})=>Object(X.jsxs)($,{className:e,children:[Object(X.jsx)(V.a,{children:"Showing page ".concat(t," of ").concat(n)}),Object(X.jsxs)(J,{children:[Object(X.jsx)(j.d,{onClick:i,kind:j.b.MINIMAL,children:Object(X.jsx)(H.a,{content:K.ChevronLeft,size:"xl"})}),Object(X.jsx)(j.d,{onClick:r,kind:j.b.MINIMAL,children:Object(X.jsx)(H.a,{content:K.ChevronRight,size:"xl"})})]})]});const Q=(e,t)=>Math.ceil(e.length/t);var Z=e=>G()((({pageSize:t,items:n,resetOnAdd:r,...i})=>{const[o,a]=Object(s.useState)(0),[l,c]=Object(s.useState)(Q(n,t)),u=(e=>{const t=Object(s.useRef)();return Object(s.useEffect)((()=>{t.current=e}),[e]),t.current})(n);Object(s.useEffect)((()=>{u&&u.length!==n.length&&c(Q(n,t)),u&&u.length<n.length?r&&a(0):o+1>=l&&a(l-1)}),[n,o,t,u,r,l]);const d=n.slice(o*t,o*t+t);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(e,{items:d,...i}),n.length>t?Object(X.jsx)(Y,{className:"streamlit-paginator",pageSize:t,totalPages:l,currentPage:o+1,onNext:()=>{a(Math.min(o+1,l-1))},onPrevious:()=>{a(Math.max(0,o-1))}}):null]})}),e),ee=n(279);const te=({fileInfo:e})=>"uploading"===e.status.type?Object(X.jsx)(ee.b,{value:e.status.progress,size:ee.a.SMALL,overrides:{Bar:{style:{marginLeft:0,marginTop:"4px"}}}}):"error"===e.status.type?Object(X.jsxs)(R,{children:[Object(X.jsx)(B,{"data-testid":"stUploadedFileErrorMessage",children:e.status.errorMessage}),Object(X.jsx)(T,{children:Object(X.jsx)(H.a,{content:K.Error,size:"lg"})})]}):"uploaded"===e.status.type?Object(X.jsx)(V.a,{children:m(e.size,f.Byte)}):null;var ne=({fileInfo:e,onDelete:t})=>Object(X.jsxs)(M,{className:"uploadedFile",children:[Object(X.jsx)(L,{children:Object(X.jsx)(H.a,{content:K.InsertDriveFile,size:"twoXL"})}),Object(X.jsxs)(A,{className:"uploadedFileData",children:[Object(X.jsx)(P,{className:"uploadedFileName",title:e.name,children:e.name}),Object(X.jsx)(te,{fileInfo:e})]}),Object(X.jsx)("div",{"data-testid":"fileDeleteBtn",children:Object(X.jsx)(j.d,{onClick:()=>t(e.id),kind:j.b.MINIMAL,children:Object(X.jsx)(H.a,{content:K.Clear,size:"lg"})})})]});const re=Z((({items:e,onDelete:t})=>Object(X.jsx)(k,{children:e.map((e=>Object(X.jsx)(E,{children:Object(X.jsx)(ne,{fileInfo:e,onDelete:t})},e.id)))})));var ie=e=>Object(X.jsx)(C,{children:Object(X.jsx)(re,{...e})}),oe=n(2850);class ae extends l.a.PureComponent{constructor(e){super(e),this.formClearHelper=new u.b,this.localFileIdCounter=1,this.componentDidUpdate=e=>{const{element:t,widgetMgr:n}=this.props;if(e.disabled!==this.props.disabled&&this.props.disabled)return this.reset(),void n.setFileUploaderStateValue(t,new c.h,{fromUi:!1});if("ready"!==this.status)return;const r=this.createWidgetValue();if(void 0===r)return;const i=n.getFileUploaderStateValue(t);a.a.isEqual(r,i)||n.setFileUploaderStateValue(t,r,{fromUi:!0})},this.reset=()=>{this.setState({files:[]})},this.dropHandler=(e,t)=>{const{element:n}=this.props,{multipleFiles:r}=n;if(!r&&0===e.length&&t.length>1){const n=t.findIndex((e=>1===e.errors.length&&"too-many-files"===e.errors[0].code));n>=0&&(e.push(t[n].file),t.splice(n,1))}if(!r&&e.length>0&&this.state.files.length>0&&this.removeFile(this.state.files[0].id),e.forEach(this.uploadFile),t.length>0){const e=t.map((e=>{const{file:t}=e;return new oe.a(t.name,t.size,this.nextLocalFileId(),{type:"error",errorMessage:this.getErrorMessage(e.errors[0].code,e.file)})}));this.addFiles(e)}},this.uploadFile=e=>{const t=i.a.CancelToken.source(),n=new oe.a(e.name,e.size,this.nextLocalFileId(),{type:"uploading",cancelToken:t,progress:1});this.addFile(n),this.props.uploadClient.uploadFile(this.props.element,e,(e=>this.onUploadProgress(e,n.id)),t.token).then((e=>this.onUploadComplete(n.id,e))).catch((e=>{i.a.isCancel(e)||this.updateFile(n.id,n.setStatus({type:"error",errorMessage:e?e.toString():"Unknown error"}))}))},this.onUploadComplete=(e,t)=>{this.setState((e=>({newestServerFileId:Math.max(e.newestServerFileId,t)})));const n=this.getFile(e);null!=n&&"uploading"===n.status.type&&this.updateFile(n.id,n.setStatus({type:"uploaded",serverFileId:t}))},this.getErrorMessage=(e,t)=>{switch(e){case"file-too-large":return"File must be ".concat(m(this.maxUploadSizeInBytes,f.Byte)," or smaller.");case"file-invalid-type":return"".concat(t.type," files are not allowed.");case"file-too-small":return"File size is too small.";case"too-many-files":return"Only one file is allowed.";default:return"Unexpected error. Please try again."}},this.deleteFile=e=>{const t=this.getFile(e);null!=t&&("uploading"===t.status.type&&t.status.cancelToken.cancel(),this.removeFile(e))},this.addFile=e=>{this.setState((t=>({files:[...t.files,e]})))},this.addFiles=e=>{this.setState((t=>({files:[...t.files,...e]})))},this.removeFile=e=>{this.setState((t=>({files:t.files.filter((t=>t.id!==e))})))},this.getFile=e=>this.state.files.find((t=>t.id===e)),this.updateFile=(e,t)=>{this.setState((n=>({files:n.files.map((n=>n.id===e?t:n))})))},this.onUploadProgress=(e,t)=>{const n=this.getFile(t);if(null==n||"uploading"!==n.status.type)return;const r=Math.round(100*e.loaded/e.total);n.status.progress!==r&&this.updateFile(t,n.setStatus({type:"uploading",cancelToken:n.status.cancelToken,progress:r}))},this.onFormCleared=()=>{this.setState({files:[]},(()=>{const e=this.createWidgetValue();null!=e&&this.props.widgetMgr.setFileUploaderStateValue(this.props.element,e,{fromUi:!0})}))},this.render=()=>{const{files:e}=this.state,{element:t,disabled:n,widgetMgr:r}=this.props,i=t.type;this.formClearHelper.manageFormClearListener(r,t.formId,this.onFormCleared);const o=e.slice().reverse();return Object(X.jsxs)(N,{"data-testid":"stFileUploader",children:[Object(X.jsx)(h.d,{label:t.label,disabled:n,children:t.help&&Object(X.jsx)(h.b,{children:Object(X.jsx)(v.a,{content:t.help,placement:b.b.TOP_RIGHT})})}),Object(X.jsx)(q,{onDrop:this.dropHandler,multiple:t.multipleFiles,acceptedExtensions:i,maxSizeBytes:this.maxUploadSizeInBytes,disabled:n}),o.length>0&&Object(X.jsx)(ie,{items:o,pageSize:3,onDelete:this.deleteFile,resetOnAdd:!0})]})},this.state=this.initialValue}get initialValue(){const e={files:[],newestServerFileId:0},{widgetMgr:t,element:n}=this.props,r=t.getFileUploaderStateValue(n);if(null==r)return e;const{maxFileId:i,uploadedFileInfo:o}=r;return null==i||0===i||null==o?e:{files:o.map((e=>{const t=e.name,n=e.size,r=e.id;return new oe.a(t,n,this.nextLocalFileId(),{type:"uploaded",serverFileId:r})})),newestServerFileId:Number(i)}}componentWillUnmount(){this.formClearHelper.disconnect()}get maxUploadSizeInBytes(){return((e,t,n)=>{if(e<0)throw Error("Size must be 0 or greater");const r=g.findIndex((e=>e===t)),i=g.findIndex((e=>e===n));if(-1===r||-1===i)throw Error("Unexpected byte unit provided");if(r===i)return e;const o=Math.abs(r-i),a=p**o;return r>i?e/a:e*a})(this.props.element.maxUploadSizeMb,f.Megabyte,f.Byte)}get status(){return this.state.files.some((e=>"uploading"===e.status.type))?"updating":"ready"}createWidgetValue(){if(0===this.state.newestServerFileId)return;const e=this.state.files.filter((e=>"uploaded"===e.status.type)).map((e=>{const{name:t,size:n,status:r}=e;return new c.t({id:r.serverFileId,name:t,size:n})}));return new c.h({maxFileId:this.state.newestServerFileId,uploadedFileInfo:e})}nextLocalFileId(){return this.localFileIdCounter++}}var se=ae}}]);