/*! For license information please see 37.e23ae77d.chunk.js.LICENSE.txt */
(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[37],{5159:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return y}));var a=s(0),r=s.n(a),o=s(67),i=s.n(o),n=s(25),l=s(5133),m=s(23),p=s(162),h=s(115),d=s(116),u=s(51),c=s(5);const f="YYYY/MM/DD";function g(e){return e.map((e=>new Date(e)))}class b extends r.a.PureComponent{constructor(...e){super(...e),this.formClearHelper=new p.b,this.state={values:this.initialValue,isRange:this.props.element.isRange,isEmpty:!1},this.commitWidgetValue=e=>{this.props.widgetMgr.setStringArrayValue(this.props.element,this.state.values.map((e=>i()(e).format(f))),e)},this.onFormCleared=()=>{const e=g(this.props.element.default);this.setState({values:e},(()=>this.commitWidgetValue({fromUi:!0})))},this.handleChange=({date:e})=>{this.setState({values:Array.isArray(e)?e:[e],isEmpty:!e},(()=>{this.state.isEmpty||this.commitWidgetValue({fromUi:!0})}))},this.handleClose=()=>{const{isEmpty:e}=this.state;e&&this.setState({values:g(this.props.element.default)},(()=>{this.commitWidgetValue({fromUi:!0})}))},this.getMaxDate=()=>{const{element:e}=this.props,t=e.max;return t&&t.length>0?i()(t,f).toDate():void 0},this.render=()=>{const{width:e,element:t,disabled:s,theme:a,widgetMgr:r}=this.props,{values:o,isRange:n}=this.state,{colors:p,fontSizes:g}=a,b={width:e},y=i()(t.min,f).toDate(),C=this.getMaxDate();return this.formClearHelper.manageFormClearListener(r,t.formId,this.onFormCleared),Object(c.jsxs)("div",{className:"stDateInput",style:b,children:[Object(c.jsx)(h.d,{label:t.label,disabled:s,children:t.help&&Object(c.jsx)(h.b,{children:Object(c.jsx)(d.a,{content:t.help,placement:u.b.TOP_RIGHT})})}),Object(c.jsx)(l.a,{formatString:"yyyy/MM/dd",disabled:s,onChange:this.handleChange,onClose:this.handleClose,overrides:{Popover:{props:{placement:m.f.bottomLeft,overrides:{Body:{style:{border:"1px solid ".concat(p.fadedText10)}}}}},CalendarContainer:{style:{fontSize:g.sm}},Week:{style:{fontSize:g.sm}},Day:{style:({$selected:e})=>({"::after":{borderColor:e?p.transparent:""}})},PrevButton:{style:()=>({display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:p.transparent},":focus":{backgroundColor:p.transparent,outline:0}})},NextButton:{style:{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:p.transparent},":focus":{backgroundColor:p.transparent,outline:0}}},Input:{props:{maskChar:null}}},value:o,minDate:y,maxDate:C,range:n})]})}}get initialValue(){const e=this.props.widgetMgr.getStringArrayValue(this.props.element);return g(void 0!==e?e:this.props.element.default)}componentDidMount(){this.props.element.setValue?this.updateFromProtobuf():this.commitWidgetValue({fromUi:!1})}componentDidUpdate(){this.maybeUpdateFromProtobuf()}componentWillUnmount(){this.formClearHelper.disconnect()}maybeUpdateFromProtobuf(){const{setValue:e}=this.props.element;e&&this.updateFromProtobuf()}updateFromProtobuf(){const{value:e}=this.props.element;this.props.element.setValue=!1,this.setState({values:e.map((e=>new Date(e)))},(()=>{this.commitWidgetValue({fromUi:!1})}))}}var y=Object(n.withTheme)(b)}}]);